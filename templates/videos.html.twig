{% extends "base.html.twig" %}

{% import _self as this %}

{% block content %}

    {% macro video(video) %}
        {{ video.name }}
        <video width="320" height="240" controls>
            <source src="{{ video.source }}" type="video/mp4"></source>
            <source src="{{ video.source }}" type="video/ogg"></source>
            {{ 'videos.notsupported'|trans }}
        </video> 
        <p>
    {% endmacro %}

    {% if videos.chapters is defined %}
        {% for c1 in videos.chapters %}
            
            {% if c1.name is defined %}
                {{ c1.name }}   
            {% else %}
                Unknown name             
            {% endif %}

            <p>

            {% if c1.chapters is defined %}
                {% for c2 in c1.chapters %}
                    
                    {% if c2.name is defined %}
                        {{ c2.name }}   
                    {% else %}
                        Unknown Sub name             
                    {% endif %}
                    
                    <p>

                    {% if c2.videos is defined %}
                        {% for v2 in c2.videos %}
                            
                            {{ this.video(v2) }}
                        
                        {% endfor %}
                    {% endif %}

                {% endfor %}
            {% endif %}

            {% if c1.videos is defined %}
                {% for v1 in c1.videos %}
                   
                    {#{ _self.video(v1) }#}
                
                {% endfor %}
            {% endif %}

        {% endfor %}  
    {% endif %}

{% endblock %}