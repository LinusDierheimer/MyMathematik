<!DOCTYPE html>
<html>
    <head>
        <meta charset="UTF-8">

        <link rel="shortcut icon" type="image/png" href="{{ favicon_png }}" sizes="any"> 
            {# Blink based Browsers don't support svg yet, so there might be quality loss on them.
               See https://bugs.chromium.org/p/chromium/issues/detail?id=294179 #}
        <link rel="shortcut icon" type="image/svg+xml" href="{{ favicon_svg }}" sizes="any">

        <!-- Global site tag (gtag.js) - Google Analytics -->
        <script type="text/javascript" async src="https://www.googletagmanager.com/gtag/js?id={{ ga_tracking }}"></script>
        <script>
            window.dataLayer = window.dataLayer || [];
            function gtag(){dataLayer.push(arguments);}
            gtag('js', new Date());

            gtag('config', '{{ ga_tracking }}');
        </script>


        <title>
            {% if title is defined %}
                {{ title }}
            {% else %}
                {{ 'site.title'|trans }}
                {{ app.request.pathinfo|replace({"/": " - "})|trim(' - ', 'right') }}
            {% endif %}
        </title>

        {% block css %}
            {{ encore_entry_link_tags('app') }}
        {% endblock %}

    </head>
    <body>
        
        {% block header %}
            <header class="header" id="header" role="banner">
                <a href="{{ path('route_home') }}" class="title" rel="home">
                    {{ "header.title"|trans }}
                </a>

                <div class="icons">
                    <div class="icon">
                        <i class="dropdown-header fas fa-video"></i>
                        <div class="dropdown-content">
                            {% if globals.classes|length > 0 %}
                                {% for key, class in globals.classes %}
                                    <a href="/videos/{{ globals.language_code }}/{{ key }}">
                                        {{ 'header.icons.classes.class'|trans }} {{ class.name }}
                                    </a>
                                {% endfor %}
                            {% else %}
                                <div>
                                    {{ 'header.icons.classes.noclass'|trans }}
                                </div>
                            {% endif %}
                        </div>
                    </div>
                    <div class="icon">
                        <a href="{{ path('route_account_me') }}" class="dropdown-header {{ app.user == null ? 'far' : 'fas' }} fa-user"></a>
                        <div class="dropdown-content">
                            <a href="{{ path('route_account_me') }}">
                                {{ 'header.icons.account.me'|trans }}
                            </a>
                            {% if app.user is null %}
                                <a href="{{ path('route_account_login') }}">
                                    {{ 'header.icons.account.login'|trans }}
                                </a>
                                <a href="{{ path('route_account_register') }}">
                                    {{ 'header.icons.account.register'|trans }}
                                </a>
                            {% else %}
                                <a href="{{ path('route_account_logout') }}">
                                    {{ 'header.icons.account.logout'|trans }}
                                </a>
                                <a href="{{ path('route_account_login') }}">
                                    {{ 'header.icons.account.switch'|trans }}
                                </a>
                            {% endif %}
                        </div>
                    </div>
                    <div class="icon">
                        <i class="dropdown-header fas fa-language"></i>
                        <div class="dropdown-content">
                            {% for language in globals.languages %}
                                <a class="languageswitcher" data-language="{{ language.code }}" href="">
                                    <i class="far {{ globals.current_language == language ? 'fa-check-circle' : 'fa-circle' }}"></i>
                                    {{ language.name }}
                                </a>
                            {% endfor %}
                        </div>
                    </div>
                    {% if is_granted('ROLE_ADMIN') %}
                        <div class="icon">
                            <a href="{{ path('route_admin') }}" class="dropdown-header fas fa-cogs"></a>
                            <div class="dropdown-content">
                                <a href="{{ path('route_admin_videoconfig') }}">
                                    Videoconfig
                                </a>
                                <a href="{{ path('route_admin_languageconfig') }}">
                                    Languageconfig
                                </a>
                            </div>
                        </div>
                    {% endif %}
                </div>

            </header>
        {% endblock %}

        {% block fullcontent %}
            <div class="content" id="content">
                {% block content %}{% endblock %}
            </div>            
        {% endblock %}

        {% block footer %}
            <footer class="footer" id="footer">
                <div class="footercontent">
                    <div class="footerlinks">
                        {% for info in globals.informations %}
                            <a href="{{ info.href }}" class="footerlink">
                                {{ info.name|trans }}
                            </a>
                        {% endfor %}
                    </div>
                    <span id="scrollUp" class="goup">
                        {{ 'footer.goup'|trans }}
                    </span>
                </div>
            </footer>
        {% endblock %}

        {% block cookies %}
            <div class="cookies" id="cookies">
                <div class="cookiestext">
                    <label>
                        {{ 'cookies.info'|trans }}
                    </label>
                    <a href="{{ globals.informations.cookies.href }}">
                        {{ 'cookies.more'|trans }}
                    </a>
                    <button id="cookiesAccepted">
                        {{ 'cookies.ok'|trans }}
                    </button>
                </div>
            </div>
        {% endblock %}

        {% block js %}
            {{ encore_entry_script_tags('app') }}
        {% endblock %}
    </body>
</html>
